<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Developer Guide | Go Ethereum</title>
    <!-- debug root:../../debug-path -->

    <link rel="icon" type="image/png" href="../../static/images/favicon.png" />

    <link rel="stylesheet" href="../../static/styles/bootstrap.min.css" />

    <link rel="stylesheet" href="../../static/styles/flatly.min.css" />

    <link rel="stylesheet" href="../../static/styles/font-awesome.min.css" />

    <link rel="stylesheet" href="../../static/styles/custom/common.css" />

    <link rel="stylesheet" href="../../static/styles/custom/vss.css" />





    <script src="../../static/scripts/jquery.min.js"></script>

    <script src="../../static/scripts/bootstrap.min.js"></script>

    <script src="../../static/scripts/moment.min.js"></script>

    <script src="../../static/scripts/marked.min.js"></script>

    <script src="../../static/scripts/emojify.min.js"></script>

    <script src="../../static/scripts/custom/polyfills.js"></script>



  <!-- Matomo -->
  <script type="text/javascript">
    var _paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://matomo.ethereum.org/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '22']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <noscript><p><img src="https://matomo.ethereum.org/matomo.php?idsite=22&amp;rec=1" style="border:0;" alt="" /></p></noscript>
  <!-- End Matomo Code -->
</head>


  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../..">Go Ethereum</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            
              
              <li><a href="../../docs/install-and-build/installing-geth">Install</a></li>
            
              
              <li><a href="../../downloads/">Downloads</a></li>
            
              
              <li><a href="../../docs/">Documentation</a></li>
            
          </ul>
          <form class="navbar-form pull-right" role="search" method="get" action="https://duckduckgo.com/">
            <input type="hidden" name="sites" value="geth.ethereum.org">
            <input type="hidden" name="kz" value="-1">
            <div class="input-group navbar-input-group-fixup">
              <input class="input-sm" type="text" name="q" placeholder="Search site...">
              <span class="input-group-btn">
                <button type="submit" class="btn btn-default btn-sm"><i class="fa fa-search" aria-hidden="true"></i></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </nav>
    
<div class="container" style="padding-top: 24px;">
  <div class="row">
    <div class="col-md-3" id="toc" style="padding-top: 16px;">
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/getting-started">Getting Started</a>
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/install-and-build/installing-geth">Install and Build</a>
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/interface/command-line-options">Using Geth</a>
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/dapp/native">For dApp Developers</a>
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/rpc/server">JSON RPC APIs</a>
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/developers/devguide">For Geth Developers</a>
        
          
          
            
            
              
              
              
              <a class="list-group-item disabled" href="../../docs/developers/devguide">Developer Guide</a>
            
          
            
            
              
              
              
              <a class="list-group-item " href="../../docs/developers/code-review-guidelines">Code Review Guidelines</a>
            
              
              
              
              <a class="list-group-item " href="../../docs/developers/issue-handling-workflow">Issue Handling Workflow</a>
            
          
            
            
              
              
              
              <a class="list-group-item " href="../../docs/developers/dns-discovery-setup">DNS Discovery Setup Guide</a>
            
          
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/clef/tutorial">Clef</a>
        
      </div>
    
      
      
      
      <div class="list-group">
        <a class="list-group-item active" href="../../docs/vulnerabilities/vulnerabilities">Vulnerabilities</a>
        
      </div>
    
    </div>
    <div class="col-md-9" id="content">
      
        <h1 class="featurette-heading">Developer Guide</h1>
      
      <p><strong>NOTE: These instructions are for people who want to contribute Go source code changes.
If you just want to run ethereum, use the regular <a href="../install-and-build/installing-geth">Installation Instructions</a>.</strong></p>

<p>This document is the entry point for developers of the Go implementation of Ethereum.
Developers here refer to the hands-on: who are interested in build, develop, debug, submit
a bug report or pull request or contribute code to go-ethereum.</p>

<h2 id="contributing">Contributing</h2>

<p>Thank you for considering to help out with the source code! We welcome contributions from
anyone on the internet, and are grateful for even the smallest of fixes!</p>

<p>GitHub is used to track issues and contribute code, suggestions, feature requests or
documentation.</p>

<p>If you’d like to contribute to go-ethereum, please fork, fix, commit and send a pull
request (PR) for the maintainers to review and merge into the main code base. If you wish
to submit more complex changes though, please check up with the core devs in the
go-ethereum <a href="https://discord.gg/invite/nthXNEv">Discord Server</a>. to ensure those changes are in line with the
general philosophy of the project and/or get some early feedback. This can reduce your
effort as well as speeding up our review and merge procedures.</p>

<p>PRs need to be based on and opened against the <code class="language-plaintext highlighter-rouge">master</code> branch (unless by explicit
agreement, you contribute to a complex feature branch).</p>

<p>Your PR will be reviewed according to the <a href="../developers/code-review-guidelines">Code Review guidelines</a>.</p>

<p>We encourage a PR early approach, meaning you create the PR the earliest even without the
fix/feature. This will let core devs and other volunteers know you picked up an issue.
These early PRs should indicate ‘in progress’ status.</p>

<h2 id="building-and-testing">Building and Testing</h2>

<p>We assume that you have Go installed. Please use Go version 1.13 or later. We use the gc
toolchain for development, which you can get from the <a href="https://golang.org/doc/install">Go downloads page</a>.</p>

<p>go-ethereum is a Go module, and uses the <a href="https://github.com/golang/go/wiki/Modules">Go modules system</a> to manage
dependencies. Using <code class="language-plaintext highlighter-rouge">GOPATH</code> is not required to build go-ethereum.</p>

<h3 id="building-executables">Building Executables</h3>

<p>Switch to the go-ethereum repository root directory.</p>

<p>You can build all code using the go tool, placing the resulting binary in <code class="language-plaintext highlighter-rouge">$GOPATH/bin</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go install -v ./...
</code></pre></div></div>

<p>go-ethereum exectuables can be built individually. To build just geth, use:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go install -v ./cmd/geth
</code></pre></div></div>

<p>If you want to compile geth for an architecture that differs from your host, please
consult our <a href="../install-and-build/cross-compile">cross compilation guide</a>.</p>

<h3 id="testing">Testing</h3>

<p>Testing a package:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go test -v ./eth
</code></pre></div></div>

<p>Running an individual test:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go test -v ./eth -run TestMethod
</code></pre></div></div>

<p><strong>Note</strong>: here all tests with prefix <em>TestMethod</em> will be run, so if you got TestMethod,
TestMethod1, then both tests will run.</p>

<p>Running benchmarks, eg.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go test -v -bench . -run BenchmarkJoin
</code></pre></div></div>

<p>For more information, see the <a href="https://golang.org/cmd/go/#hdr-Testing_flags">go test flags</a> documentation.</p>

<h3 id="getting-stack-traces">Getting Stack Traces</h3>

<p>If <code class="language-plaintext highlighter-rouge">geth</code> is started with the <code class="language-plaintext highlighter-rouge">--pprof</code> option, a debugging HTTP server is made available
on port 6060. You can bring up <a href="http://localhost:6060/debug/pprof">http://localhost:6060/debug/pprof</a> to see the heap,
running routines etc. By clicking “full goroutine stack dump” you can generate a trace
that is useful for debugging.</p>

<p>Note that if you run multiple instances of <code class="language-plaintext highlighter-rouge">geth</code>, this port will only work for the first
instance that was launched. If you want to generate stacktraces for these other instances,
you need to start them up choosing an alternative pprof port. Make sure you are
redirecting stderr to a logfile.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth -port=30300 -verbosity 5 --pprof --pprof.port 6060 2&gt;&gt; /tmp/00.glog
geth -port=30301 -verbosity 5 --pprof --pprof.port 6061 2&gt;&gt; /tmp/01.glog
geth -port=30302 -verbosity 5 --pprof --pprof.port 6062 2&gt;&gt; /tmp/02.glog
</code></pre></div></div>

<p>Alternatively if you want to kill the clients (in case they hang or stalled syncing, etc)
and have the stacktrace too, you can use the <code class="language-plaintext highlighter-rouge">-QUIT</code> signal with <code class="language-plaintext highlighter-rouge">kill</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>killall -QUIT geth
</code></pre></div></div>

<p>This will dump stack traces for each instance to their respective log file.</p>


    </div>
  </div>
</div>

    <hr/>
    <footer class="container"><p>&copy; 2013–2021. The go-ethereum Authors. <a href="https://github.com/ethereum/go-ethereum/blob/gh-pages/docs/_developers/devguide.md">Edit this page.</a></p>
    </footer>
  </body>
</html>
